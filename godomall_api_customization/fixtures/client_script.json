[
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Godomall Order",
  "enabled": 1,
  "modified": "2022-09-23 22:40:28.885365",
  "module": "Godomall Api Customization",
  "name": "Godomall Order add button",
  "script": "\nfrappe.listview_settings[\"Godomall Order\"] = {\n\tonload: function (listview) {\n\t\tlistview.page.add_menu_item(__(\"Get Today Order\"), function () {\n\t\t    var today = new Date();\n\t\t\tvar dd = String(today.getDate()).padStart(2, '0');\n\t\t\tvar mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n\t\t\tvar yyyy = today.getFullYear();\n\n\t\t\ttoday = yyyy+'-'+mm+'-'+dd;\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"godomall_api_customization.api.get_godomall_order?date_type=order&start_date=\"+today+\"&end_date=\"+today,\n\t\t\t\t\n\t\t\t\tcallback: function (r) {\n\t\t\t\t    if(r.message=='200') {\n    \t\t\t\t    frappe.msgprint({\n    \t\t\t\t\t\t\ttitle: __('Today Order Created'),\n    \t\t\t\t\t\t\tmessage: __('Godomall Today Order Created'),\n    \t\t\t\t\t\t\tindicator: 'orange'\n    \n    \t\t\t\t\t\t});\n    \t\t\t\t\tlistview.refresh();\n\t\t\t\t    }\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t\t\n\t\tlistview.page.add_menu_item(__(\"Update Today Modified Order\"), function () {\n\t\t    var today = new Date();\n\t\t\tvar dd = String(today.getDate()).padStart(2, '0');\n\t\t\tvar mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n\t\t\tvar yyyy = today.getFullYear();\n\n\t\t\ttoday = yyyy+'-'+mm+'-'+dd;\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"godomall_api_customization.api.get_godomall_order?date_type=modify&start_date=\"+today+\"&end_date=\"+today,\n\t\t\t\t\n\t\t\t\tcallback: function (r) {\n\t\t\t\t    if(r.message=='200') {\n\t\t\t\t    frappe.msgprint({\n\t\t\t\t\t\t\ttitle: __('Today Order Updated'),\n\t\t\t\t\t\t\tmessage: __('Godomall Today modified order Updated'),\n\t\t\t\t\t\t\tindicator: 'orange'\n\n\t\t\t\t\t\t});\n\t\t\t\t\tlistview.refresh();\n\t\t\t\t    }\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t\tlistview.page.add_menu_item(__(\"Get D-1 Order\"), function () {\n\t\t    var today = new Date();\n\t\t    var dday = new Date();\n\t\t    dday.setDate(dday.getDate() - 2);\n\t\t    \n\t\t\tvar ddd = String(dday.getDate()).padStart(2, '0');\n\t\t\tvar dmm = String(dday.getMonth() + 1).padStart(2, '0'); //January is 0!\n\t\t\tvar dyyyy = dday.getFullYear();\n\n\t\t\tvar dd = String(today.getDate()).padStart(2, '0');\n\t\t\tvar mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n\t\t\tvar yyyy = today.getFullYear();\n\n\t\t\ttoday = yyyy+'-'+mm+'-'+dd;\n\t\t\tdday =  dyyyy+'-'+dmm+'-'+ddd;\n\t\t\tconsole.log(dday)\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"godomall_api_customization.api.get_godomall_order?date_type=order&start_date=\"+dday+\"&end_date=\"+dday,\n\t\t\t\tcallback: function (r) {\n\t\t\t\t    if(r.message=='200') {\n\t\t\t\t    frappe.msgprint({\n\t\t\t\t\t\t\ttitle: __('D-1 Order Created'),\n\t\t\t\t\t\t\tmessage: __('Godomall D-1 Order Created'),\n\t\t\t\t\t\t\tindicator: 'orange'\n\n\t\t\t\t\t\t});\n\t\t\t\t\tlistview.refresh();\n\t\t\t\t    }\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t\t\n\t\tlistview.page.add_menu_item(__(\"Update D-1 Modified Order\"), function () {\n\t\t    var today = new Date();\n\t\t    var dday = new Date();\n\t\t    dday.setDate(dday.getDate() - 2);\n\t\t    \n\t\t\tvar ddd = String(dday.getDate()).padStart(2, '0');\n\t\t\tvar dmm = String(dday.getMonth() + 1).padStart(2, '0'); //January is 0!\n\t\t\tvar dyyyy = dday.getFullYear();\n\n\t\t\tvar dd = String(today.getDate()).padStart(2, '0');\n\t\t\tvar mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n\t\t\tvar yyyy = today.getFullYear();\n\n\t\t\ttoday = yyyy+'-'+mm+'-'+dd;\n\t\t\tdday =  dyyyy+'-'+dmm+'-'+ddd;\n\t\t\tconsole.log(dday)\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"godomall_api_customization.api.get_godomall_order?date_type=modify&start_date=\"+dday+\"&end_date=\"+dday,\n\t\t\t\tcallback: function (r) {\n\t\t\t\t    if(r.message=='200') {\n\t\t\t\t    frappe.msgprint({\n\t\t\t\t\t\t\ttitle: __('D-1 Order Updated'),\n\t\t\t\t\t\t\tmessage: __('Godomall D-1 modified order Updated'),\n\t\t\t\t\t\t\tindicator: 'orange'\n\n\t\t\t\t\t\t});\n\t\t\t\t\tlistview.refresh();\n\t\t\t\t    }\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t\tlistview.page.add_menu_item(__(\"Get D-2 Order\"), function () {\n\t\t    var today = new Date();\n\t\t    var dday = new Date();\n\t\t    dday.setDate(dday.getDate() - 2);\n\t\t    \n\t\t\tvar ddd = String(dday.getDate()).padStart(2, '0');\n\t\t\tvar dmm = String(dday.getMonth() + 1).padStart(2, '0'); //January is 0!\n\t\t\tvar dyyyy = dday.getFullYear();\n\n\t\t\tvar dd = String(today.getDate()).padStart(2, '0');\n\t\t\tvar mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n\t\t\tvar yyyy = today.getFullYear();\n\n\t\t\ttoday = yyyy+'-'+mm+'-'+dd;\n\t\t\tdday =  dyyyy+'-'+dmm+'-'+ddd;\n\t\t\tconsole.log(dday)\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"godomall_api_customization.api.get_godomall_order?date_type=order&start_date=\"+dday+\"&end_date=\"+dday,\n\t\t\t\tcallback: function (r) {\n\t\t\t\t    if(r.message=='200') {\n\t\t\t\t    frappe.msgprint({\n\t\t\t\t\t\t\ttitle: __('D-2 Order Created'),\n\t\t\t\t\t\t\tmessage: __('Godomall D-2 Order Created'),\n\t\t\t\t\t\t\tindicator: 'orange'\n\n\t\t\t\t\t\t});\n\t\t\t\t\tlistview.refresh();\n\t\t\t\t    }\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t\t\n\t\tlistview.page.add_menu_item(__(\"Update D-2 Modified Order\"), function () {\n\t\t    var today = new Date();\n\t\t    var dday = new Date();\n\t\t    dday.setDate(dday.getDate() - 2);\n\t\t    \n\t\t    \n\t\t\tvar ddd = String(dday.getDate()).padStart(2, '0');\n\t\t\tvar dmm = String(dday.getMonth() + 1).padStart(2, '0'); //January is 0!\n\t\t\tvar dyyyy = dday.getFullYear();\n        \n\t\t\tvar dd = String(today.getDate()).padStart(2, '0');\n\t\t\tvar mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n\t\t\tvar yyyy = today.getFullYear();\n\n\t\t\ttoday = yyyy+'-'+mm+'-'+dd;\n\t\t\tdday =  dyyyy+'-'+dmm+'-'+ddd;\n\t\t\tconsole.log(dday)\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"godomall_api_customization.api.get_godomall_order?date_type=modify&start_date=\"+dday+\"&end_date=\"+dday,\n\t\t\t\tcallback: function (r) {\n\t\t\t\t    if(r.message=='200') {\n\t\t\t\t    frappe.msgprint({\n\t\t\t\t\t\t\ttitle: __('D-2 Order Updated'),\n\t\t\t\t\t\t\tmessage: __('Godomall D-2 modified order Updated'),\n\t\t\t\t\t\t\tindicator: 'orange'\n\n\t\t\t\t\t\t});\n\t\t\t\t\tlistview.refresh();\n\t\t\t\t    }\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n};",
  "view": "List"
 }
]